{"Action":{"TraceId":"800003e2-0000-fe00-b63f-84710c7967bb","HttpMethod":"POST","ControllerName":"WriteOffInventory","ActionName":"AddWriteOffInventory","ActionParameters":{"wvm":{"WriteOffId":0,"InventoryId":2,"WriteOffReasonId":3,"WriteOffQty":50,"Name":"Alexa"}},"RequestUrl":"https://localhost:44358/api/WriteOffInventory/CreateWriteOff","IpAddress":"::1","ResponseStatus":"Internal Server Error","ResponseStatusCode":500,"Exception":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding \u0027EnableRetryOnFailure()\u0027 to the \u0027UseSqlServer\u0027 call.\r\n ---\u003E Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: TCP Provider, error: 0 - The semaphore timeout period has expired.)\r\n ---\u003E System.ComponentModel.Win32Exception (121): The semaphore timeout period has expired.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action\u00601 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action\u00601 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()\r\n   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte\u0026 value)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean\u0026 dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task\u0026 task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource\u00601 completion, Int32 timeout, Task\u0026 task, Boolean\u0026 usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable\u00601.Enumerator.InitializeReader(DbContext _, Boolean result)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func\u00603 operation, Func\u00603 verifySucceeded)\r\nClientConnectionId:9ebd8beb-1ca1-4eae-a332-596611a90ec0\r\nError Number:121,State:0,Class:20\r\nClientConnectionId before routing:d8461a3f-4527-4da6-a502-660f9ab72fa9\r\nRouting Destination:c34a433e31e7.tr826.southafricanorth1-a.worker.database.windows.net,11034\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func\u00603 operation, Func\u00603 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable\u00601.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.Single[TSource](IEnumerable\u00601 source)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at System.Linq.Queryable.Max[TSource,TResult](IQueryable\u00601 source, Expression\u00601 selector)\r\n   at team40_iteration6_user.Controllers.WriteOffInventoryController.AddWriteOffInventory(WriteOffInventory wvm) in C:\\Users\\User\\Documents\\INF370\\Code\\Team40\\team40_iteration6_user\\Controllers\\WriteOffInventoryController.cs:line 541\r\n   at lambda_method1364(Closure , Object , Object[] )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State\u0026 next, Scope\u0026 scope, Object\u0026 state, Boolean\u0026 isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()"},"EventType":"WriteOffInventory/AddWriteOffInventory","Environment":{"UserName":"User","MachineName":"LAPTOP-G49DL6P0","DomainName":"LAPTOP-G49DL6P0","CallingMethodName":"team40_iteration6_user.Controllers.WriteOffInventoryController.AddWriteOffInventory()","AssemblyName":"team40_iteration6_user, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null","Culture":"en-ZA"},"StartDate":"2022-10-16T19:59:01.6100915Z","EndDate":"2022-10-16T20:01:04.0346644Z","Duration":122425}